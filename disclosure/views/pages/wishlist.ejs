<script src = "../js/angular.js"></script>
<script src = "../js/ui-bootstrap.js"></script>

<script src = "../js/init-app.js"></script>
<script src = "../js/controllers/wishlistCtrl.js"></script>

<div ng-app = "app" ng-controller = "wishlistCtrl">

<center id = "container">	
	<br />
	<h3> My wishlist </h3>
	<br />

	<div style = "text-align: justify;">
		<p> 
			Can't find the product you're looking for? 
			<a href = "product/new"> <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
				Add a product!
			</button> </a>
		</p>
	</div>

	<div style = "display: none;">
		{{userId = <%=user.id%>}}
	</div>
	<br /> <br />
	<div class = "sticky-note">
		<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
			<input class="mdl-textfield__input" type="text" id="sample3" ng-model = "selected" typeahead-on-select = "setProduct($item)" typeahead = "product.name for product in products | filter:$viewValue | limitTo:4" />
			<label class="mdl-textfield__label" for="sample3"> Product Name </label>
		</div>
	    <br />


		  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
			    <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="sample4"ng-model = "newWish.price" />
			    <label class="mdl-textfield__label" for="sample4"> Product Price </label>
			    <span class="mdl-textfield__error">Input is not a number!</span>

		  </div>

		<label class = "mdl-label"> Priority </label>	    
		<input class="mdl-slider mdl-js-slider" type="range"
		  min="0" max="100" value="25" tabindex="0" ng-model = "newWish.priority">

		<button ng-click = "addWish(newWish)" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
			<i class="material-icons">save</i>
		</button>
	</div>
	<div class = "sticky-note" ng-repeat = "wish in wishes | orderBy: '-priority'" ng-style = "{'animation': 'fadeIn', '-webkit-animation': 'fadeIn', 'animation-duration': wish.delay + 's', '-webkit-animation-duration': wish.delay + 's'}">
		<h4> {{wish.product.name}} </h4>
		<p> $ {{wish.price}} </p>
		<input class="mdl-slider mdl-js-slider" type="range"
		  min="0" max="100" value="25" tabindex="0" ng-model = "wish.priority" disabled />
		<button ng-click = "fulfilWish(wish)" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
			<i class="material-icons">check circle</i>
		</button>
		<button ng-click = "cancelWish(newWish)" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
			<i class="material-icons"> X </i>
		</button>
	</div>
</center>

</div>